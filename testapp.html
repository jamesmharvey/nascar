<head>
  <title>Fantasy NASCAR Pool Picker</title>
</head>

<body>
  {{> body}}
</body>

<template name="body">
  <div style="float: right">
    <div style="right:0">
    {{loginButtons align="right"}}
    </div>
    {{#if currentUser}}
    {{> editProfile}}
    {{/if}}
  </div>
  {{#if currentUser}}
  {{> races}}
  {{else}}
  <h3>Sign in to make picks</h3>
  {{/if}}
</template>

<template name="editProfile">
  <div>
  {{> yourName}}
  </div>
</template>

<template name="yourName">
  <div>
    Your name: 
    <input id="yourName" placeholder="name">
  </div>
</template>

<template name="races">
  <table>
    <tr>
      <th>Race Name</th>
      <th>Your Pick</th>
      {{{otherPlayersHeader}}}
    </tr>
    {{#each race}}
    {{> race}}
    {{/each}}
  </table>
</template>

<template name="race">
  <tr>
    <td>{{name}}</td>
    <td>
      <select id="{{raceId}}" {{#if locked}}disabled{{/if}}>
	{{> driverSelect raceId}}
      </select>
    </td>
    {{#if locked}}
    {{{otherDriverPicks raceId}}};
    {{/if}}
  </tr> 
</template>

<template name="driverSelect">
    <option value="">Pick a Driver...</option>
    {{#each freeDriver}}
    <option value="{{name}}" {{selected}}>{{name}}</option>
    {{/each}}
</template>

